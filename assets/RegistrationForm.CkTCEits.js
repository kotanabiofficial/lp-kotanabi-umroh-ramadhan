import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.Cd_vQiNd.js";const F=({title:x="Formulir Pendaftaran Prioritas",description:g="Isi data diri Anda di bawah ini untuk mendapatkan prioritas konsultasi dan informasi ketersediaan seat Haji Furoda 2026.",packages:n,formSource:f="Landing Page Haji Furoda",programName:b="Haji"})=>{const[a,l]=i.useState({name:"",phone:"",domicile:""}),j=n.find(t=>t.isPopular)?.name||(n.length>0?n[0].name:""),[d,u]=i.useState(j),[c,p]=i.useState(!1),[r,o]=i.useState(null),[y,h]=i.useState(!1),w="https://script.google.com/macros/s/AKfycbwnQG8-PC6OfCWSHdB4jJpMMJyEOcwCD9pxG8zBeroAdXcq-0IM3V6mMS5Vtia8YPC83Q/exec",N=t=>{const m=t.target.value,s=m.replace(/\D/g,"");l({...a,phone:s}),s!==m?o("Nomor telepon hanya boleh berisi angka."):s.length<8||s.length>15?o("Nomor telepon harus antara 8 hingga 15 digit."):o(null)},k=async t=>{if(t.preventDefault(),r||!a.phone){o(r||"Nomor telepon tidak boleh kosong.");return}p(!0),window.dataLayer&&window.dataLayer.push({event:"haji_umroh_lead",formName:"Haji / Umroh Registration",leadPackage:d,leadCity:a.domicile,user_data:{phone_number:a.phone,address:{first_name:a.name,city:a.domicile}}});const m="628561500883",s=new Date().toLocaleString("id-ID"),v=`Assalamualaikum Admin KotaNabi,
Saya ingin mendaftar/konsultasi program ${b}.

*Data Diri:*
Nama: ${a.name}
No. WA: ${a.phone}
Domisili: ${a.domicile}
Paket Dipilih: ${d}

Mohon info lengkap dan ketersediaan seat. Terima kasih.`,S=`https://api.whatsapp.com/send?phone=${m}&text=${encodeURIComponent(v)}`;window.open(S,"_blank");const P={timestamp:s,name:a.name,phone:a.phone,domicile:a.domicile,package:d,source:f};try{await fetch(w,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})}catch(C){console.error("Error saving data:",C)}finally{p(!1),l({name:"",phone:"",domicile:""}),u(n.length>0?n[0].name:""),o(null),h(!0),setTimeout(()=>{h(!1)},5e3)}};return e.jsx("section",{id:"kontak",className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[y&&e.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-8",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Alhamdulillah!"}),e.jsx("span",{className:"block sm:inline ml-2",children:"Langkah awal menuju Baitullah telah Anda ambil. Tim kami segera menghubungi Anda untuk memastikan seat Haji Furoda Anda aman."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>h(!1),children:e.jsxs("svg",{className:"fill-current h-6 w-6 text-green-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[e.jsx("title",{children:"Close"}),e.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:w-1/2 bg-secondary text-white p-8 md:p-12 flex flex-col justify-center",children:[e.jsx("h3",{className:"text-3xl font-bold font-serif mb-4",children:x}),e.jsx("p",{className:"text-gray-200 text-lg mb-6",children:g}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-300",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"})," Data Anda terjamin kerahasiaannya"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"})," Respon cepat dari konsultan haji"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"})," Prioritas informasi promo"]})]})]}),e.jsx("div",{className:"md:w-1/2 p-8 md:p-12",children:e.jsxs("form",{onSubmit:k,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),e.jsx("input",{type:"text",id:"name",required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition",placeholder:"Contoh: Abdullah",value:a.name,onChange:t=>l({...a,name:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nomor WhatsApp"}),e.jsx("input",{type:"tel",id:"phone",required:!0,inputMode:"numeric",pattern:"[0-9]*",className:`w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition ${r?"border-red-500":"border-gray-300"}`,placeholder:"Contoh: 081234567890",value:a.phone,onChange:N}),r&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"domicile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kota Domisili"}),e.jsx("input",{type:"text",id:"domicile",required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition",placeholder:"Contoh: Jakarta Selatan",value:a.domicile,onChange:t=>l({...a,domicile:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"package",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pilih Paket Haji Furoda"}),e.jsx("select",{id:"package",required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition bg-white",value:d,onChange:t=>u(t.target.value),children:n.map(t=>e.jsxs("option",{value:t.name,children:[t.name," - ",t.price]},t.name))})]}),e.jsx("button",{type:"submit",id:"kirimFormWA",disabled:c,className:`w-full bg-primary hover:bg-yellow-600 text-white font-bold py-4 px-6 rounded-lg transition duration-300 shadow-lg transform hover:scale-[1.02] ${c?"opacity-75 cursor-not-allowed":""}`,children:c?"Memproses...":"Daftar & Konsultasi Sekarang"})]})})]})]})})};export{F as default};
